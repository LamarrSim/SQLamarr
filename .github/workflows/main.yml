name: Doxygen GitHub Pages Deploy Action

on: [push]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  update-docs:
    deploy:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
     - uses: actions/checkout@v3
     - run: sudo apt-get install doxygen
     - run: doxygen
     - name: Setup Pages
       uses: actions/configure-pages@v3
     - name: 'Upload html'
       uses: actions/upload-pages-artifact@v1
       with:
         name: docs-html
         path: docs
         retention-days: 1
     - name: 'Deploy GitHub Pages site'
       id: deployment
       uses: actions/deploy-pages@v1
          
